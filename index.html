<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="css/screen.css">
	<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.4.min.js"></script>
	<script charset="utf-8">
		$(function(){
			var $hud = $('.hud');
			
			$('.candy')
				.each(function(){
					$('<div class="hover" />').appendTo(this);				
				})
				.hover(
					function(event){ // mouseenter
						$('.hover').css('opacity', 0.05);
						var $candy = $(this),
							$hover = $candy.find('.hover').css('opacity', 0),
							offset = $candy.offset();
							
						if (!$candy.data('html')){
							$hud.find('.extras-expanded').html($candy.find('.extras').html());
							$hud.find('.flavor').html($candy.find('input[name=flavor]').val() + ' ' + $candy.find('input[name=presentation]').val());
							$hud.find('.price').html('Â¢' + $candy.find('input[name=price]').val() + '/kg');
							$candy.data('html', $hud.html());
						}
						
						offset.left += 180;
						$hud.css(offset).html($candy.data('html')).show();				
					}, 
					function(event){ // mouseleave
						if ($hud.is(':visible')){
							var offset = $hud.offset(), 
								width = $hud.width(), 
								height = $hud.height();
							if (event.pageX > offset.left && event.pageX < offset.left + width && event.pageY > offset.top && event.pageY < offset.top + height){
								console.log('hovering');
							}
							else {
								$(this).find('.hover').css('opacity', 0.05);
								$hud.hide();
							}
						}
					}
				)
			
			$('.filter').click(function(){
				var $filter = $(this),
					classname = '.' + $filter.text().toLowerCase(),
					fx = $filter.is('.collapsed') ? 'slideDown' : 'slideUp';

				$filter.toggleClass('collapsed');
				$(classname)[fx]();
			});
		});
	</script>
</head>
<body>
	<div class="page">
		<div class="head">
			<h1 class="logo"><a href="/">Sweetopia</a></h1>
		</div>
			
		<div class="body">
			<div class="rightCol">
				<p>Sweetopia is a candy shop designed by you! Choose from our selection of gourmet flavors, candy styles and extra touches to design the candy you want!</p>
				
				<a class="create-button">Create My Crave</a>
				
				<hr />
				
				<h2>Filter By...</h2>
				
				<h3 class="filter">Presentation</h3>
				
				<ul class="presentation filters">
					<li><a class="checkbox checked">Hardcandy</a></li>
					<li><a class="checkbox">Poppy</a></li>
					<li><a class="checkbox">Chewy</a></li>
				</ul>			
				
				<h3 class="filter">Flavor</h3>
				
				<ul class="flavor filters">
					<li><a class="checkbox checked">Sandia</a></li>
					<li><a class="checkbox">Melon</a></li>
					<li><a class="checkbox">Cereza</a></li>
				</ul>							
			</div>
			
			<div class="main">
				<div class="line">
					<div class="candy unit">
						<img class="cherry" src="images/candy.png" width="120" height="120" alt="Candy">
						
						<p>Yummy Candy!</p>
						
						<div class="extras">
							<a class="chewy" title="chewy">Chewy</a>
							<a class="spicy" title="spicy">Spicy</a>
						</div>
						
						<input type="hidden" name="flavor" value="Grapefruit">
						<input type="hidden" name="presentation" value="Hardcandy">
						<input type="hidden" name="price" value="2.000">
					</div>

					<div class="candy unit">
						<img class="cherry" src="images/candy.png" width="120" height="120" alt="Candy">
						<p>Yummy Candy!</p>
						<div class="extras">
							<a class="spicy" title="spicy">Spicy</a>
						</div>
						
						<input type="hidden" name="flavor" value="Grapefruit">
						<input type="hidden" name="presentation" value="Hardcandy">
						<input type="hidden" name="price" value="2.000">
					</div>

					<div class="candy unit">
						<img class="cherry" src="images/candy.png" width="120" height="120" alt="Candy">
						<p>Yummy Candy!</p>
						<div class="extras">
							<a class="sour" title="sour">Sour</a>
							<a class="spicy" title="spicy">Spicy</a>
						</div>
						
						<input type="hidden" name="flavor" value="Grapefruit">
						<input type="hidden" name="presentation" value="Hardcandy">
						<input type="hidden" name="price" value="2.000">
					</div>
					
					<div class="candy unit">
						<img class="cherry" src="images/candy.png" width="120" height="120" alt="Candy">
						<p>Yummy Candy!</p>
						<div class="extras">
							<a class="sweet" title="sweet">Sweet</a>
						</div>
						
						<input type="hidden" name="flavor" value="Grapefruit">
						<input type="hidden" name="presentation" value="Hardcandy">
						<input type="hidden" name="price" value="2.000">
					</div>

					<div class="candy unit">
						<img class="cherry" src="images/candy.png" width="120" height="120" alt="Candy">
						<p>Yummy Candy!</p>
						<div class="extras">
							<a class="chewy" title="chewy">Chewy</a>
							<a class="spicy" title="spicy">Spicy</a>
						</div>
						
						<input type="hidden" name="flavor" value="Grapefruit">
						<input type="hidden" name="presentation" value="Hardcandy">
						<input type="hidden" name="price" value="2.000">
					</div>

					<div class="candy unit">
						<img class="cherry" src="images/candy.png" width="120" height="120" alt="Candy">
						<p>Yummy Candy!</p>
						<div class="extras">
							<a class="sweet" title="sweet">Sweet</a>
						</div>
						
						<input type="hidden" name="flavor" value="Grapefruit">
						<input type="hidden" name="presentation" value="Hardcandy">
						<input type="hidden" name="price" value="2.000">
					</div>				
				</div>
			</div>
		</div>
	</div>
	
	<div class="hud">
		<div class="extras-expanded"></div>
		
		<div class="line">
			<span class="flavor unit size2of3"></span>
			<span class="price lastUnit"></span>
		</div>
		
		<hr />
				
		<div class="line">
			<div class="unit size1of2">
				<a class="select">1</a>
			</div>
			<div class="lastUnit">
				<a class="buy-button">Buy...</a>
			</div>
		</div>
	</div>
</body>
</html>